(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function le(){}function He(e){return e()}function Oe(){return Object.create(null)}function Q(e){e.forEach(He)}function Ge(e){return typeof e=="function"}function Qe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function tt(e){return Object.keys(e).length===0}function s(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function H(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function G(e){return document.createTextNode(e)}function N(){return G(" ")}function ye(){return G("")}function j(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function nt(e){return Array.from(e.childNodes)}function lt(e,t){t=""+t,e.data!==t&&(e.data=t)}function J(e,t){e.value=t??""}function he(e,t,n){e.classList[n?"add":"remove"](t)}let ue;function ie(e){ue=e}function ot(){if(!ue)throw new Error("Function called outside component initialization");return ue}function Re(e){ot().$$.on_mount.push(e)}const te=[],Ne=[];let ne=[];const Fe=[],rt=Promise.resolve();let be=!1;function it(){be||(be=!0,rt.then(Ue))}function ve(e){ne.push(e)}const me=new Set;let ee=0;function Ue(){if(ee!==0)return;const e=ue;do{try{for(;ee<te.length;){const t=te[ee];ee++,ie(t),ut(t.$$)}}catch(t){throw te.length=0,ee=0,t}for(ie(null),te.length=0,ee=0;Ne.length;)Ne.pop()();for(let t=0;t<ne.length;t+=1){const n=ne[t];me.has(n)||(me.add(n),n())}ne.length=0}while(te.length);for(;Fe.length;)Fe.pop()();be=!1,me.clear(),ie(e)}function ut(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}function st(e){const t=[],n=[];ne.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),ne=t}const _e=new Set;let K;function We(){K={r:0,c:[],p:K}}function Xe(){K.r||Q(K.c),K=K.p}function V(e,t){e&&e.i&&(_e.delete(e),e.i(t))}function se(e,t,n,l){if(e&&e.o){if(_e.has(e))return;_e.add(e),K.c.push(()=>{_e.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function ct(e){e&&e.c()}function Ye(e,t,n,l){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),l||ve(()=>{const i=e.$$.on_mount.map(He).filter(Ge);e.$$.on_destroy?e.$$.on_destroy.push(...i):Q(i),e.$$.on_mount=[]}),r.forEach(ve)}function Ze(e,t){const n=e.$$;n.fragment!==null&&(st(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function at(e,t){e.$$.dirty[0]===-1&&(te.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,l,o,r,i,p=[-1]){const d=ue;ie(e);const _=e.$$={fragment:null,ctx:[],props:r,update:le,not_equal:o,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Oe(),dirty:p,skip_bound:!1,root:t.target||d.$$.root};i&&i(_.root);let m=!1;if(_.ctx=n?n(e,t.props||{},(y,w,...E)=>{const b=E.length?E[0]:w;return _.ctx&&o(_.ctx[y],_.ctx[y]=b)&&(!_.skip_bound&&_.bound[y]&&_.bound[y](b),m&&at(e,y)),w}):[],_.update(),m=!0,Q(_.before_update),_.fragment=l?l(_.ctx):!1,t.target){if(t.hydrate){const y=nt(t.target);_.fragment&&_.fragment.l(y),y.forEach(q)}else _.fragment&&_.fragment.c();t.intro&&V(e.$$.fragment),Ye(e,t.target,t.anchor,t.customElement),Ue()}ie(d)}class et{$destroy(){Ze(this,1),this.$destroy=le}$on(t,n){if(!Ge(n))return le;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!tt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function re(e,t){return await(await fetch(window.endpoint+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}function Se(e,t,n){const l=e.slice();return l[23]=t[n],l[24]=t,l[25]=n,l}function Ce(e,t,n){const l=e.slice();return l[26]=t[n].name,l[27]=t,l[28]=n,l}function ze(e,t,n){const l=e.slice();return l[26]=t[n].name,l[25]=n,l}function Ae(e,t,n){const l=e.slice();return l[30]=t[n],l[25]=n,l}function je(e,t,n){const l=e.slice();return l[32]=t[n],l[28]=n,l}function qe(e){let t,n=e[30].values,l=[];for(let o=0;o<n.length;o+=1)l[o]=Le(je(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=ye()},m(o,r){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(o,r);T(o,t,r)},p(o,r){if(r[0]&4160){n=o[30].values;let i;for(i=0;i<n.length;i+=1){const p=je(o,n,i);l[i]?l[i].p(p,r):(l[i]=Le(p),l[i].c(),l[i].m(t.parentNode,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(o){H(l,o),o&&q(t)}}}function Le(e){let t,n=e[32]+"",l,o,r;function i(){return e[17](e[32])}return{c(){t=g("span"),l=G(n),f(t,"class","link-primary svelte-1vhwz0y")},m(p,d){T(p,t,d),s(t,l),o||(r=j(t,"click",i),o=!0)},p(p,d){e=p},d(p){p&&q(t),o=!1,r()}}}function Pe(e){let t,n=e[4].name===e[30].name&&e[30].t==="one_of"&&qe(e);return{c(){n&&n.c(),t=ye()},m(l,o){n&&n.m(l,o),T(l,t,o)},p(l,o){l[4].name===l[30].name&&l[30].t==="one_of"?n?n.p(l,o):(n=qe(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&q(t)}}}function Te(e){let t,n=e[26]+"",l;return{c(){t=g("th"),l=G(n)},m(o,r){T(o,t,r),s(t,l)},p:le,d(o){o&&q(t)}}}function Be(e){let t,n,l,o;function r(...p){return e[21](e[26],e[25],...p)}function i(){e[22].call(n,e[26],e[24],e[25])}return{c(){t=g("td"),n=g("input"),f(n,"class","svelte-1vhwz0y"),f(t,"class","svelte-1vhwz0y"),he(t,"selected",e[4].name===e[26]&&e[25]>=e[5][0]&&e[25]<=e[5][1])},m(p,d){T(p,t,d),s(t,n),J(n,e[23][e[26]]),l||(o=[j(n,"click",r),j(n,"input",i)],l=!0)},p(p,d){e=p,d[0]&65&&n.value!==e[23][e[26]]&&J(n,e[23][e[26]]),d[0]&112&&he(t,"selected",e[4].name===e[26]&&e[25]>=e[5][0]&&e[25]<=e[5][1])},d(p){p&&q(t),l=!1,Q(o)}}}function Ie(e){let t,n,l,o=e[6],r=[];for(let i=0;i<o.length;i+=1)r[i]=Be(Ce(e,o,i));return{c(){t=g("tr");for(let i=0;i<r.length;i+=1)r[i].c();n=N(),f(t,"style",l=`background: ${e[7][e[23].category]}`)},m(i,p){T(i,t,p);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(t,null);s(t,n)},p(i,p){if(p[0]&2161){o=i[6];let d;for(d=0;d<o.length;d+=1){const _=Ce(i,o,d);r[d]?r[d].p(_,p):(r[d]=Be(_),r[d].c(),r[d].m(t,n))}for(;d<r.length;d+=1)r[d].d(1);r.length=o.length}p[0]&1&&l!==(l=`background: ${i[7][i[23].category]}`)&&f(t,"style",l)},d(i){i&&q(t),H(r,i)}}}function ft(e){let t,n,l,o,r,i,p,d,_,m,y,w,E,b,z,h,k,c,L,B,ce,R,ae,U,P,v,$,O,I,W,M,we,oe,ke,X,pe,fe,$e,de,ge,Ee,Y=e[6],F=[];for(let a=0;a<Y.length;a+=1)F[a]=Pe(Ae(e,Y,a));let Z=e[6],S=[];for(let a=0;a<Z.length;a+=1)S[a]=Te(ze(e,Z,a));let x=e[0],C=[];for(let a=0;a<x.length;a+=1)C[a]=Ie(Se(e,x,a));return{c(){t=g("div"),n=g("div"),l=g("div"),o=g("button"),o.textContent="get",r=N(),i=g("button"),i.textContent="save",p=N(),d=g("div"),_=g("input"),m=N(),y=g("button"),w=G("$set"),b=N(),z=g("div"),h=g("div");for(let a=0;a<F.length;a+=1)F[a].c();k=N(),c=g("input"),L=N(),B=g("button"),ce=G("Insert"),ae=N(),U=g("div"),P=g("div"),v=g("div"),$=N(),O=g("div"),I=g("div"),I.innerHTML='<div class="input-group-text monospace svelte-1vhwz0y">$set:</div>',W=N(),M=g("input"),we=N(),oe=g("button"),oe.textContent="Apply",ke=N(),X=g("table"),pe=g("thead"),fe=g("tr");for(let a=0;a<S.length;a+=1)S[a].c();$e=N(),de=g("tbody");for(let a=0;a<C.length;a+=1)C[a].c();f(o,"class","btn btn-secondary"),f(i,"class","btn btn-secondary"),f(l,"class","btn-group mr-2"),f(l,"role","group"),f(l,"aria-label","First group"),f(_,"type","text"),f(_,"class","form-control monospace svelte-1vhwz0y"),f(_,"placeholder","set selected"),f(y,"class","btn btn-secondary"),y.disabled=E=e[5][0]===-1,f(d,"class","input-group"),f(h,"class","link-row svelte-1vhwz0y"),f(c,"type","text"),f(c,"class","form-control monospace svelte-1vhwz0y"),f(c,"placeholder","..."),f(B,"class","btn btn-secondary"),B.disabled=R=e[5][0]===-1,f(z,"class","input-group"),f(n,"class","btn-toolbar bg-light justify-content-between tools svelte-1vhwz0y"),f(n,"role","toolbar"),f(n,"aria-label","Toolbar with button groups"),f(v,"class","btn-group mr-2"),f(v,"role","group"),f(v,"aria-label","First group"),f(I,"class","input-group-prepend"),f(M,"type","text"),f(M,"class","form-control monospace svelte-1vhwz0y"),f(oe,"class","btn btn-secondary"),f(O,"class","input-group"),f(P,"class","btn-toolbar mb-3 justify-content-between"),f(P,"role","toolbar"),f(P,"aria-label","Toolbar with button groups"),f(U,"class","card-header"),f(X,"class","table table-bordered"),f(t,"class","card")},m(a,A){T(a,t,A),s(t,n),s(n,l),s(l,o),s(l,r),s(l,i),s(n,p),s(n,d),s(d,_),J(_,e[3]),s(d,m),s(d,y),s(y,w),s(n,b),s(n,z),s(z,h);for(let u=0;u<F.length;u+=1)F[u]&&F[u].m(h,null);s(z,k),s(z,c),J(c,e[2]),s(z,L),s(z,B),s(B,ce),s(t,ae),s(t,U),s(U,P),s(P,v),s(P,$),s(P,O),s(O,I),s(O,W),s(O,M),J(M,e[1]),s(O,we),s(O,oe),s(t,ke),s(t,X),s(X,pe),s(pe,fe);for(let u=0;u<S.length;u+=1)S[u]&&S[u].m(fe,null);s(X,$e),s(X,de);for(let u=0;u<C.length;u+=1)C[u]&&C[u].m(de,null);ge||(Ee=[j(o,"click",e[8]),j(i,"click",e[9]),j(_,"input",e[15]),j(y,"click",e[16]),j(c,"input",e[18]),j(B,"click",e[19]),j(M,"input",e[20]),j(oe,"click",e[10])],ge=!0)},p(a,A){if(A[0]&8&&_.value!==a[3]&&J(_,a[3]),A[0]&32&&E!==(E=a[5][0]===-1)&&(y.disabled=E),A[0]&4176){Y=a[6];let u;for(u=0;u<Y.length;u+=1){const D=Ae(a,Y,u);F[u]?F[u].p(D,A):(F[u]=Pe(D),F[u].c(),F[u].m(h,null))}for(;u<F.length;u+=1)F[u].d(1);F.length=Y.length}if(A[0]&4&&c.value!==a[2]&&J(c,a[2]),A[0]&32&&R!==(R=a[5][0]===-1)&&(B.disabled=R),A[0]&2&&M.value!==a[1]&&J(M,a[1]),A[0]&64){Z=a[6];let u;for(u=0;u<Z.length;u+=1){const D=ze(a,Z,u);S[u]?S[u].p(D,A):(S[u]=Te(D),S[u].c(),S[u].m(fe,null))}for(;u<S.length;u+=1)S[u].d(1);S.length=Z.length}if(A[0]&2289){x=a[0];let u;for(u=0;u<x.length;u+=1){const D=Se(a,x,u);C[u]?C[u].p(D,A):(C[u]=Ie(D),C[u].c(),C[u].m(de,null))}for(;u<C.length;u+=1)C[u].d(1);C.length=x.length}},i:le,o:le,d(a){a&&q(t),H(F,a),H(S,a),H(C,a),ge=!1,Q(Ee)}}}function dt(e,t,n){let{view_data:l={}}=t,o=l.query,r=[],i="{}",p="",d="{}",_={name:o[0].name,iter:0},m=[-1,-1];const y=window.categoryColors;async function w(){const v=await re("queryPull",l);n(0,r=v.fields)}async function E(){const v=await re("queryPush",r);console.log(v)}async function b(){try{let v=JSON.parse(i);const $=await re("querySet",{query:o,set:v});console.log($)}catch(v){console.log(v)}}const z=(v,$)=>{if(v.shiftKey&&$.name===_.name){n(5,m[0]=$.iter,m),n(5,m[1]=_.iter,m),n(5,m=m.sort((O,I)=>O-I)),console.log(m);return}n(5,m=[-1,-1]),n(4,_=$)},h=v=>{if(m[0]>-1){for(let $=m[0];$<=m[1];$++)n(0,r[$][_.name]=v,r);n(5,m=[-1,-1])}},k=async v=>{let $=[],O=JSON.parse(v);if(m[0]>-1){for(let W=m[0];W<=m[1];W++)$.push(r[W]._id);n(5,m=[-1,-1])}const I=await re("querySetSelected",{ids:$,command:O});console.log(I)};Re(w);function c(){d=this.value,n(3,d)}const L=()=>k(d),B=v=>h(v);function ce(){p=this.value,n(2,p)}const R=()=>h(p);function ae(){i=this.value,n(1,i)}const U=(v,$,O)=>z(O,{name:v,iter:$});function P(v,$,O){$[O][v]=this.value,n(0,r)}return e.$$set=v=>{"view_data"in v&&n(14,l=v.view_data)},[r,i,p,d,_,m,o,y,w,E,b,z,h,k,l,c,L,B,ce,R,ae,U,P]}class _t extends et{constructor(t){super(),xe(this,t,dt,ft,Qe,{view_data:14},null,[-1,-1])}}function Me(e,t,n){const l=e.slice();return l[3]=t[n],l[5]=n,l}function De(e,t,n){const l=e.slice();return l[6]=t[n].title,l[7]=t[n].query,l[5]=n,l}function Je(e){let t,n,l=e[6]+"",o,r,i,p;function d(){return e[2](e[6])}return{c(){t=g("li"),n=g("button"),o=G(l),r=N(),f(n,"class","nav-link"),f(n,"aria-current","page"),he(n,"active",e[6]===e[1]),f(t,"class","nav-item")},m(_,m){T(_,t,m),s(t,n),s(n,o),s(t,r),i||(p=j(n,"click",d),i=!0)},p(_,m){e=_,m&1&&l!==(l=e[6]+"")&&lt(o,l),m&3&&he(n,"active",e[6]===e[1])},d(_){_&&q(t),i=!1,p()}}}function Ve(e){let t,n;return t=new _t({props:{view_data:e[3]}}),{c(){ct(t.$$.fragment)},m(l,o){Ye(t,l,o),n=!0},p(l,o){const r={};o&1&&(r.view_data=l[3]),t.$set(r)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){se(t.$$.fragment,l),n=!1},d(l){Ze(t,l)}}}function Ke(e){let t,n,l=e[3].title===e[1]&&Ve(e);return{c(){l&&l.c(),t=ye()},m(o,r){l&&l.m(o,r),T(o,t,r),n=!0},p(o,r){o[3].title===o[1]?l?(l.p(o,r),r&3&&V(l,1)):(l=Ve(o),l.c(),V(l,1),l.m(t.parentNode,t)):l&&(We(),se(l,1,1,()=>{l=null}),Xe())},i(o){n||(V(l),n=!0)},o(o){se(l),n=!1},d(o){l&&l.d(o),o&&q(t)}}}function ht(e){let t,n,l,o,r,i,p,d,_,m,y=e[0],w=[];for(let h=0;h<y.length;h+=1)w[h]=Je(De(e,y,h));let E=e[0],b=[];for(let h=0;h<E.length;h+=1)b[h]=Ke(Me(e,E,h));const z=h=>se(b[h],1,1,()=>{b[h]=null});return{c(){t=g("main"),n=g("nav"),l=g("div"),o=g("div"),r=g("ul");for(let h=0;h<w.length;h+=1)w[h].c();i=N(),p=g("br"),d=N(),_=g("div");for(let h=0;h<b.length;h+=1)b[h].c();f(r,"class","navbar-nav"),f(o,"class","collapse navbar-collapse"),f(o,"id","navbarNav"),f(l,"class","container-fluid"),f(n,"class","navbar navbar-expand-lg bg-body-tertiary"),f(_,"class","container"),f(t,"class","svelte-14wf50f")},m(h,k){T(h,t,k),s(t,n),s(n,l),s(l,o),s(o,r);for(let c=0;c<w.length;c+=1)w[c]&&w[c].m(r,null);s(t,i),s(t,p),s(t,d),s(t,_);for(let c=0;c<b.length;c+=1)b[c]&&b[c].m(_,null);m=!0},p(h,[k]){if(k&3){y=h[0];let c;for(c=0;c<y.length;c+=1){const L=De(h,y,c);w[c]?w[c].p(L,k):(w[c]=Je(L),w[c].c(),w[c].m(r,null))}for(;c<w.length;c+=1)w[c].d(1);w.length=y.length}if(k&3){E=h[0];let c;for(c=0;c<E.length;c+=1){const L=Me(h,E,c);b[c]?(b[c].p(L,k),V(b[c],1)):(b[c]=Ke(L),b[c].c(),V(b[c],1),b[c].m(_,null))}for(We(),c=E.length;c<b.length;c+=1)z(c);Xe()}},i(h){if(!m){for(let k=0;k<E.length;k+=1)V(b[k]);m=!0}},o(h){b=b.filter(Boolean);for(let k=0;k<b.length;k+=1)se(b[k]);m=!1},d(h){h&&q(t),H(w,h),H(b,h)}}}function pt(e,t,n){let l=[];Re(async()=>{const i=await re("getAdminInfo",{});n(0,l=i.views)});let o="main";return[l,o,i=>n(1,o=i)]}class gt extends et{constructor(t){super(),xe(this,t,pt,ht,Qe,{})}}new gt({target:document.getElementById("app")});
